(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{365:function(s,a,t){"use strict";t.r(a);var n=t(7),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"webpack常见的插件和模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack常见的插件和模式"}},[s._v("#")]),s._v(" Webpack常见的插件和模式")]),s._v(" "),a("h2",{attrs:{id:"一-认识plugin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-认识plugin"}},[s._v("#")]),s._v(" 一.认识Plugin")]),s._v(" "),a("p",[s._v("◼Webpack的另一个核心是Plugin，官方有这样一段对Plugin的描述：")]),s._v(" "),a("p",[s._v("While loaders are used to transform certain types of modules, plugins can be leveraged to perform a wider range of tasks like bundle optimization, asset management and injection of environment variables.")]),s._v(" "),a("p",[s._v("◼上面表达的含义翻译过来就是：")]),s._v(" "),a("p",[s._v("Loader是用于特定的模块类型进行转换；")]),s._v(" "),a("p",[s._v("Plugin可以用于执行更加广泛的任务，比如打包优化、资源管理、环境变量注入等；")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://markdown123.oss-cn-beijing.aliyuncs.com/img/20230623003211.png",alt:""}})]),s._v(" "),a("h2",{attrs:{id:"二-cleanwebpackplugin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-cleanwebpackplugin"}},[s._v("#")]),s._v(" 二. CleanWebpackPlugin")]),s._v(" "),a("p",[s._v("◼前面我们演示的过程中，每次修改了一些配置，重新打包时，都需要手动删除dist文件夹：")]),s._v(" "),a("p",[s._v(":我们可以借助于一个插件来帮助我们完成，这个插件就是CleanWebpackPlugin；")]),s._v(" "),a("p",[s._v("◼首先，我们先安装这个插件：")]),s._v(" "),a("div",{staticClass:"language-node line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm install clean-webpack-plugin -D\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("◼之后在插件中配置：")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" CleanWebpackPlugin "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'clean-webpack-plugin'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("plugins")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CleanWebpackPlugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("blockquote",[a("p",[s._v("但是在Webpack中这款插件已经内置")]),s._v(" "),a("p",[s._v("只需要在output里面添加clean: true即可")])]),s._v(" "),a("h2",{attrs:{id:"三-htmlwebpackplugin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三-htmlwebpackplugin"}},[s._v("#")]),s._v(" 三. HtmlWebpackPlugin")]),s._v(" "),a("p",[s._v("◼另外还有一个不太规范的地方：")]),s._v(" "),a("ul",[a("li",[s._v("我们的HTML文件是编写在根目录下的，而最终打包的dist文件夹中是没有index.html文件的。")]),s._v(" "),a("li",[s._v("在进行项目部署的时，必然也是需要有对应的入口文件index.html；")]),s._v(" "),a("li",[s._v("所以我们也需要对index.html进行打包处理；")])]),s._v(" "),a("p",[s._v("对HTML进行打包处理我们可以使用另外一个插件："),a("code",[s._v("HtmlWebpackPlugin")]),s._v("；")]),s._v(" "),a("div",{staticClass:"language-node line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm install html-webpack-plugin -D\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("修改webpack.config.js文件")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("const HtmlwebpackPlugin = require('html-webpack-plugin')\n\nmodule.exports = {\n  plugins: [\n    new HtmlwebpackPlugin({\n      title: '电商项目',  //设置标题\n      template: './index.html'  //设置模板\n    })\n ]\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h2",{attrs:{id:"四-defineplugin的介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四-defineplugin的介绍"}},[s._v("#")]),s._v(" 四. DefinePlugin的介绍")]),s._v(" "),a("p",[s._v("在Webpack中定义全局变量，Webpack已经内置")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("DefinePlugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v("'BASE_URL'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\"./\"'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//用于vue中的html模板的icon图标")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("myName")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'kevin'")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("console.log(myName)  //输出'kevin'\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"五-mode配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五-mode配置"}},[s._v("#")]),s._v(" 五. Mode配置")]),s._v(" "),a("p",[s._v("Mode配置选项，可以告知webpack使用相应模式的内置优化：")]),s._v(" "),a("ul",[a("li",[s._v("默认值是production（什么都不设置的情况下）；")]),s._v(" "),a("li",[s._v("可选值有：'none' | 'development' | 'production'；")])]),s._v(" "),a("p",[a("strong",[s._v("这几个选项有什么样的区别呢？")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://markdown123.oss-cn-beijing.aliyuncs.com/img/20230623003957.png",alt:""}})])])}),[],!1,null,null,null);a.default=e.exports}}]);